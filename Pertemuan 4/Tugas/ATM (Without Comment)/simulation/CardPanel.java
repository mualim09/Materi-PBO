/* * ATM Example system - file BillsPanel.java     * * copyright (c) 2001 - Russell C. Bjork * */ package simulation;import java.awt.*;import java.awt.event.*;/** The GUI panel that simulates the reading of the ATM card's magnetic stripe *  by asking the user to enter the number */class CardPanel extends Panel{    /** Constructor     */    CardPanel()    {        setLayout(new GridLayout(0, 1, 0, 0));        setFont(new Font("Monospaced", Font.PLAIN, 14));                add(new Label("ATM yang sebenarnya akan memiliki magnetic",                      Label.CENTER));        add(new Label("stripe reader untuk membaca kartu",                      Label.CENTER));        add(new Label("Untuk Tujuan simulasi,",                      Label.CENTER));        add(new Label("harap masukan nomor kartu secara manual.",                      Label.CENTER));        add(new Label("lalu tekan ENTER",                      Label.CENTER));        add(new Label("(Integer yang tidak valid atau integer yang",                      Label.CENTER));        add(new Label("tidak lebih dari nol akan dianggap sebagai",                      Label.CENTER));        add(new Label("kartu yang tidak dapat dibaca)",                      Label.CENTER));                cardNumberField = new TextField(30);        cardNumberField.addActionListener(new ActionListener() {            public void actionPerformed(ActionEvent e)            {                synchronized(CardPanel.this)                {                    CardPanel.this.notify();                }            }        });        Panel cardNumberPanel = new Panel();        cardNumberPanel.add(cardNumberField);        add(cardNumberPanel);    }        /** Ask the customer to enter the number on the card     *     *  @return the number entered     */    synchronized int readCardNumber()    {        cardNumberField.setText("");                cardNumberField.requestFocus();        try        {            wait();        }        catch(InterruptedException e)        { }                        int cardNumber;        try        {            cardNumber = Integer.parseInt(cardNumberField.getText());            if (cardNumber <= 0)                cardNumber = -1;        }        catch(NumberFormatException e)        {            cardNumber = -1;        }                return cardNumber;    }    /** The field into which the card number is to be entered     */    private TextField cardNumberField;}